"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8696],{60879:function(e,t,n){let o;n.r(t),n.d(t,{Ga:function(){return S},Gtm:function(){return V},I13nLink:function(){return T},I13nLinkWithImpression:function(){return b},I13nProvider:function(){return k},Rapid:function(){return D},useClickTracker:function(){return w},useImpressionTracker:function(){return y},usePageViewTracker:function(){return g},withI13nTracker:function(){return v}});var i=n(2784),r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let a=new Uint8Array(16),l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));var s=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();let i=(e=e||{}).random||(e.rng||function(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(a)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e,t=0){return l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]}(i)},c=Object.defineProperty,u=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t,n)=>(u(e,"symbol"!=typeof t?t+"":t,n),n),d="/sd/workspace/src/git.ouryahoo.com/EC-Web/ec-use-i13n/src/i13nHooks.tsx";let h="u">typeof window,p=(0,i.createContext)({analyzers:[]}),f=e=>{let t=(0,i.useRef)(e);return(0,i.useEffect)(()=>{t.current=e},[e]),(0,i.useCallback)((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])},g=()=>{let{analyzers:e,rootModel:t}=(0,i.useContext)(p),n=f(t=>{e.forEach(e=>e.collectPageView(t))});return{rootModel:t,analyzers:e,trackPageView:n}},w=()=>{let{analyzers:e,rootModel:t}=(0,i.useContext)(p),n=f((t,n,o)=>{e.forEach(e=>e.collectClick(t,n,o))});return{rootModel:t,analyzers:e,trackClick:n}},y=()=>{let{analyzers:e,rootModel:t}=(0,i.useContext)(p),n=(0,i.useRef)({}),o=(0,i.useRef)(null),r=f((t,i,r)=>{let a=r||s();if(!t)return;let l=(null===o.current&&h&&"IntersectionObserver"in window&&(o.current=new IntersectionObserver((t,o)=>{t.forEach(t=>{if(t.isIntersecting){let{target:i}=t,r=n.current[i.getAttribute("data-imp-key")];r&&e.forEach(e=>e.collectImpression(r)),o.unobserve(t.target)}})})),o.current);l?t.getAttribute("data-imp-key")||(t.setAttribute("data-imp-key",a),n.current[a]=i,l.observe(t)):console.warn("IntersectionObserver API is not implemented by this browser, add intersection-observer polyfill if you want to support legacy browser")});return h?{rootModel:t,analyzers:e,addToTrackList:r}:{}},v=e=>{let t=t=>{let{trackClick:n}=w(),{trackPageView:o}=g(),{addToTrackList:r}=y();return i.createElement(e,{...t,trackClick:n,trackPageView:o,trackImpression:r,__self:void 0,__source:{fileName:d,lineNumber:145,columnNumber:7}})},n=e.displayName||e.name||"Component";return t.displayName=`WithI13nTracker(${n})`,t},k=({analyzers:e=[],rootModel:t={},children:n})=>i.createElement(p.Provider,{value:{analyzers:e,rootModel:t},__self:void 0,__source:{fileName:d,lineNumber:170,columnNumber:5}},n),T=(0,i.forwardRef)(({i13nModel:e,children:t,onClick:n,...o},r)=>{let a=(0,i.useRef)(0),{trackClick:l,analyzers:s}=w();return i.createElement("a",{ref:r,...o,onClick:t=>{if(0===s.length||!e||a.current++)return null==n?void 0:n(t);t.preventDefault(),t.stopPropagation();let o=!1;l(e,()=>{var e;o||(null==(e=t.target)||e.dispatchEvent(new MouseEvent(t.type,t.nativeEvent)),a.current=0,o=!0)},t.currentTarget)},__self:void 0,__source:{fileName:d,lineNumber:217,columnNumber:7}},t)});T.displayName="I13nLink";let b=({uuid:e,impression:t,...n})=>{let o=(0,i.useRef)(),{addToTrackList:r}=y();return(0,i.useEffect)(()=>{o.current&&r(o.current,t,e)},[r,t,e]),i.createElement(T,{ref:o,...n,__self:void 0,__source:{fileName:d,lineNumber:244,columnNumber:10}})},E={RAPID:"rapidTracking",GA:"gaTracking",GTM:"gtmDataLayer"},_=e=>"object"==typeof e&&null!==e?Object.keys(e).reduce((t,n)=>(Object.values(E).includes(n)||(t[n]=e[n]),t),{}):e,I=(e,t)=>t?Object.keys(e).reduce((n,o)=>{let i=t[o];return i&&(Array.isArray(i)?i.forEach(t=>{n[t]=e[o]}):n[i]=e[o]),n},{}):_(e),N=({data:e,trackingKey:t,mapping:n}={})=>{if(e)return null===e[t]?void 0:e[t]?e[t]:I(e,n)},L=e=>Object.values(E).some(t=>e[t]),A=class e{constructor(e,t){if(m(this,"isLinkViewWaitingToFire",!1),m(this,"rapidInstance"),m(this,"mapping"),m(this,"linkData",[]),m(this,"URL_PATTERN",/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i),m(this,"ITC_URL_CHANGED",0),m(this,"ITC_NO_URL_CHANGED",1),m(this,"customOptions"),"u">typeof window)try{this.mapping=t;let{keys:n}=e;this.customOptions=e,this.rapidInstance=new window.YAHOO.i13n.Rapid({pageview_on_init:!1,...e,...n&&{keys:N({data:n,mapping:t,trackingKey:E.RAPID})}})}catch{console.error("You have to make sure that Rapid.js is ready to use before initializing Rapid analyzer")}}getDomain(e){let t=e&&e.match(this.URL_PATTERN);return t?t[1]:""}getUri(e){let t=e&&e.pathname;return t?t.substring(0,300):""}invokeFunctionSafely(e,...t){e&&"function"==typeof e&&e(...t)}addToLinkData(e){let t=this.linkData.find(t=>t.sec===e.sec);t?t._links.push(...e._links):this.linkData.push(e)}collectPageView(e){let t=N({data:e,mapping:this.mapping,trackingKey:E.RAPID});L(e)&&!t||this.rapidInstance&&!1!==this.customOptions.pageview_on_init&&this.invokeFunctionSafely(this.rapidInstance.beaconPageview,t)}collectClick(e,t=null,n){let{sec:o,slk:i,_p:r,eventName:a,options:l,...s}=e,c=!1,u=()=>{c||(c=!0,this.invokeFunctionSafely(t))},m=N({data:s,mapping:this.mapping,trackingKey:E.RAPID});if(!(L(e)&&!m)){if(n&&"function"==typeof n.getAttribute){let e=n.getAttribute("href")||"";m.tar=m.tar||this.getDomain(e),m.tar_uri=m.tar_uri||this.getUri(n),m.itc=m.itc||(e?this.ITC_URL_CHANGED:this.ITC_NO_URL_CHANGED)}this.rapidInstance&&this.invokeFunctionSafely(this.rapidInstance.beaconClick,o,i,r,m,a,u,l),setTimeout(u,1e3)}}collectImpression(t){let{sec:n,callback:o,...i}=t,r=N({data:i,mapping:this.mapping,trackingKey:E.RAPID});if(L(t)&&!r)return;let a=(null==r?void 0:r.sec)||n;if(this.addToLinkData({sec:a,_links:[{sec:a,...r}]}),this.isLinkViewWaitingToFire){this.invokeFunctionSafely(o);return}this.isLinkViewWaitingToFire=!0,setTimeout(()=>{let t=this.rapidInstance.beaconLinkViewsWithDOM||this.rapidInstance.beaconLinkViews;t?(t.call(this.rapidInstance,this.linkData,e.LINKVIEW_TYPE_CONTENT_MODIFICATION,null,()=>{this.invokeFunctionSafely(o)}),this.linkData=[],this.isLinkViewWaitingToFire=!1):console.warn("There's no beaconLinkViews support, please update to latest Rapid library.")},e.LINKVIEW_BATCH_BUFFER)}};m(A,"LINKVIEW_BATCH_BUFFER",1e3),m(A,"LINKVIEW_TYPE_CONTENT_MODIFICATION",2);let D=A;class S{constructor(e,t){if(m(this,"gtag"),m(this,"mapping"),"u">typeof window)try{let{dataLayerName:n="dataLayer",trackingId:o,setup:i,...r}=e;this.mapping=t,window[n]=window[n]||[],this.gtag=function(){window[n].push(arguments)},this.gtag("js",new Date),i&&this.gtag("set",N({data:i,mapping:t,trackingKey:E.GA})),this.gtag("config",o,{send_page_view:!1,...r})}catch{console.error("You have to make sure that Ga.js is ready to use before initializing Ga analyzer")}}collectPageView(e){let t=N({data:e,mapping:this.mapping,trackingKey:E.GA});L(e)&&!t||this.gtag("event","page_view",t)}sendEvent(e,t){let{action:n,event_category:o,event_label:i,value:r,...a}=e,l=N({data:a,mapping:this.mapping,trackingKey:E.GA});L(e)&&!l||this.gtag("event",(null==l?void 0:l.action)||n,{event_category:o,event_label:i,value:r,...l,...t&&{event_callback:t}})}collectClick(e,t){this.sendEvent(e,t)}collectImpression(e){this.sendEvent(e)}}let C=(e,t,n="dataLayer")=>{var o,i,r,a,l;let s=!!window[n];window[n]=window[n]||[],t&&(Array.isArray(t)?window[n].push(...t):window[n].push(t)),s||(o=window,i=document,r="script",o[n]=o[n]||[],o[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"}),a=i.getElementsByTagName(r)[0],(l=i.createElement(r)).async=!0,l.src="https://www.googletagmanager.com/gtm.js?id="+e+("dataLayer"!=n?"&l="+n:""),a.parentNode.insertBefore(l,a))},O="dataLayer";class V{constructor(e){if(m(this,"pageViewEventName"),m(this,"eventTimeout"),m(this,"dataLayerName"),"u">typeof window){let{containerId:t="",initDataLayer:n={},pageViewEventName:o="ec_page_view",dataLayerName:i=O,eventTimeout:r=1e3}=e||{};t?(C(t,n,i),this.dataLayerName=i,this.pageViewEventName=o,this.eventTimeout=r):console.log("containerId is required for gtm")}}pushDataLayer(e,t){if(window[this.dataLayerName]||console.log("Try to execute command but GTM script is not correctly inited"),e){if(Array.isArray(e)){let n=e.map(e=>({...e,...t&&{eventCallback:t},...t&&{eventTimeout:this.eventTimeout}}));n.some(e=>e.ecommerce)&&window[O].push({ecommerce:null}),window[this.dataLayerName].push(...n)}else e.ecommerce&&window[O].push({ecommerce:null}),window[this.dataLayerName].push({...e,...t&&{eventCallback:t},...t&&{eventTimeout:this.eventTimeout}})}t&&t()}collectPageView(e,t){let n;let o=e[E.GTM];n=Array.isArray(o)?[...o,{event:this.pageViewEventName}]:{event:this.pageViewEventName,...o},this.pushDataLayer(n,t)}collectClick(e,t){let n=e[E.GTM];this.pushDataLayer(n,t)}collectImpression(e){let t=e[E.GTM];this.pushDataLayer(t)}}},99629:function(e,t){function n(e){let t=0,n=0,o=e;do t+=o.offsetTop||0,n+=o.offsetLeft||0,o=o.offsetParent;while(o);return{top:t,left:n}}class o{constructor(e){this.element=e}getHorizontalScroll(){return this.element.scrollLeft}getVerticalScroll(){return this.element.scrollTop}getMaxHorizontalScroll(){return this.element.scrollWidth-this.element.clientWidth}getMaxVerticalScroll(){return this.element.scrollHeight-this.element.clientHeight}getHorizontalElementScrollOffset(e,t){return n(e).left-n(t).left}getVerticalElementScrollOffset(e,t){return n(e).top-n(t).top}scrollTo(e,t){this.element.scrollLeft=e,this.element.scrollTop=t}}class i{constructor(){this.element=window}getHorizontalScroll(){return window.scrollX||document.documentElement.scrollLeft}getVerticalScroll(){return window.scrollY||document.documentElement.scrollTop}getMaxHorizontalScroll(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth)-window.innerWidth}getMaxVerticalScroll(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight}getHorizontalElementScrollOffset(e){return(window.scrollX||document.documentElement.scrollLeft)+e.getBoundingClientRect().left}getVerticalElementScrollOffset(e){return(window.scrollY||document.documentElement.scrollTop)+e.getBoundingClientRect().top}scrollTo(e,t){window.scrollTo(e,t)}}let r={elements:[],cancelMethods:[],add:(e,t)=>{r.elements.push(e),r.cancelMethods.push(t)},remove:(e,t)=>{let n=r.elements.indexOf(e);n>-1&&(t&&r.cancelMethods[n](),r.elements.splice(n,1),r.cancelMethods.splice(n,1))}},a="undefined"!=typeof window,l={cancelOnUserAction:!0,easing:e=>--e*e*e+1,elementToScroll:a?window:null,horizontalOffset:0,maxDuration:3e3,minDuration:250,speed:500,verticalOffset:0};t.Z=function(e,t={}){var n,s,c,u;return n=this,s=void 0,c=void 0,u=function*(){let n,s;if(!a)return new Promise(e=>{e(!1)});if(!window.Promise)throw"Browser doesn't support Promises, and animated-scroll-to depends on it, please provide a polyfill.";let c=Object.assign(Object.assign({},l),t),u=c.elementToScroll===window,m=!!c.elementToScroll.nodeName;if(!u&&!m)throw"Element to scroll needs to be either window or DOM element.";let d=u?document.documentElement:c.elementToScroll;"smooth"===getComputedStyle(d).getPropertyValue("scroll-behavior")&&console.warn(`${d.tagName} has "scroll-behavior: smooth" which can mess up with animated-scroll-to's animations`);let h=u?new i:new o(c.elementToScroll);if(e instanceof Element){if(m&&(!c.elementToScroll.contains(e)||c.elementToScroll.isSameNode(e)))throw"options.elementToScroll has to be a parent of scrollToElement";n=h.getHorizontalElementScrollOffset(e,c.elementToScroll),s=h.getVerticalElementScrollOffset(e,c.elementToScroll)}else if("number"==typeof e)n=h.getHorizontalScroll(),s=e;else if(Array.isArray(e)&&2===e.length)n=null===e[0]?h.getHorizontalScroll():e[0],s=null===e[1]?h.getVerticalScroll():e[1];else throw"Wrong function signature. Check documentation.\nAvailable method signatures are:\n  animateScrollTo(y:number, options)\n  animateScrollTo([x:number | null, y:number | null], options)\n  animateScrollTo(scrollToElement:Element, options)";n+=c.horizontalOffset,s+=c.verticalOffset;let p=h.getMaxHorizontalScroll(),f=h.getHorizontalScroll();n>p&&(n=p);let g=n-f,w=h.getMaxVerticalScroll(),y=h.getVerticalScroll();s>w&&(s=w);let v=s-y,k=Math.abs(Math.round(g/1e3*c.speed)),T=Math.abs(Math.round(v/1e3*c.speed)),b=k>T?k:T;return b<c.minDuration?b=c.minDuration:b>c.maxDuration&&(b=c.maxDuration),new Promise((e,t)=>{let o;0===g&&0===v&&e(!0),r.remove(h.element,!0);let i=()=>{m(),cancelAnimationFrame(o),e(!1)};r.add(h.element,i);let a=c.cancelOnUserAction?i:e=>e.preventDefault(),l=c.cancelOnUserAction?{passive:!0}:{passive:!1},u=["wheel","touchstart","keydown","mousedown"],m=()=>{u.forEach(e=>{h.element.removeEventListener(e,a,l)})};u.forEach(e=>{h.element.addEventListener(e,a,l)});let d=Date.now(),p=()=>{var t=Date.now()-d,i=t/b;let a=Math.round(f+g*c.easing(i)),l=Math.round(y+v*c.easing(i));t<b&&(a!==n||l!==s)?(h.scrollTo(a,l),o=requestAnimationFrame(p)):(h.scrollTo(n,s),cancelAnimationFrame(o),m(),r.remove(h.element,!1),e(!0))};o=requestAnimationFrame(p)})},new(c||(c=Promise))(function(e,t){function o(e){try{r(u.next(e))}catch(e){t(e)}}function i(e){try{r(u.throw(e))}catch(e){t(e)}}function r(t){var n;t.done?e(t.value):((n=t.value)instanceof c?n:new c(function(e){e(n)})).then(o,i)}r((u=u.apply(n,s||[])).next())})}}}]);